{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "Type": {
      "type": "object",
      "required": ["id", "name", "python_type", "owner_id", "account_id"],
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the type"
        },
        "name": {
          "type": "string",
          "description": "Display name of the type"
        },
        "python_type": {
          "type": "string",
          "description": "Python type representation (e.g., 'str', 'int', 'bool')"
        },
        "description": {
          "type": "string",
          "default": "",
          "description": "Optional description of the type"
        },
        "is_builtin": {
          "type": "boolean",
          "default": true,
          "description": "Whether this is a built-in Python type"
        },
        "is_nullable": {
          "type": "boolean",
          "default": false,
          "description": "Whether this type can be null/None"
        },
        "default_value": {
          "type": ["string", "number", "boolean", "null"],
          "default": null,
          "description": "Default value for this type"
        },
        "owner_id": {
          "type": "string",
          "description": "User ID from Clerk JWT"
        },
        "account_id": {
          "type": "string",
          "description": "Account ID from Clerk JWT"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp of creation"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp of last update"
        }
      }
    },
    "Validator": {
      "type": "object",
      "required": ["id", "name", "validator_type", "owner_id", "account_id"],
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the validator"
        },
        "name": {
          "type": "string",
          "description": "Display name of the validator"
        },
        "validator_type": {
          "type": "string",
          "enum": ["length", "range", "pattern", "custom"],
          "description": "Type of validation to perform"
        },
        "description": {
          "type": "string",
          "default": "",
          "description": "Optional description of the validator"
        },
        "config": {
          "type": "object",
          "default": {},
          "description": "Configuration for the validator (e.g., min/max for range, regex for pattern)",
          "properties": {
            "min": {
              "type": "number"
            },
            "max": {
              "type": "number"
            },
            "pattern": {
              "type": "string"
            },
            "custom_code": {
              "type": "string"
            }
          }
        },
        "error_message": {
          "type": "string",
          "default": "Validation failed",
          "description": "Error message to display on validation failure"
        },
        "owner_id": {
          "type": "string",
          "description": "User ID from Clerk JWT"
        },
        "account_id": {
          "type": "string",
          "description": "Account ID from Clerk JWT"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp of creation"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp of last update"
        }
      }
    },
    "Field": {
      "type": "object",
      "required": ["id", "name", "type_id", "owner_id", "account_id"],
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the field"
        },
        "name": {
          "type": "string",
          "description": "Display name of the field"
        },
        "type_id": {
          "type": "string",
          "description": "Reference to a Type ID"
        },
        "description": {
          "type": "string",
          "default": "",
          "description": "Optional description of the field"
        },
        "is_required": {
          "type": "boolean",
          "default": false,
          "description": "Whether this field is required"
        },
        "is_unique": {
          "type": "boolean",
          "default": false,
          "description": "Whether this field must be unique"
        },
        "is_indexed": {
          "type": "boolean",
          "default": false,
          "description": "Whether this field should be indexed in database"
        },
        "default_value": {
          "type": ["string", "number", "boolean", "null"],
          "default": null,
          "description": "Default value for this field"
        },
        "validator_ids": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "Array of Validator IDs applied to this field"
        },
        "namespace": {
          "type": "string",
          "default": "",
          "description": "Optional namespace for organizing fields"
        },
        "owner_id": {
          "type": "string",
          "description": "User ID from Clerk JWT"
        },
        "account_id": {
          "type": "string",
          "description": "Account ID from Clerk JWT"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp of creation"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp of last update"
        }
      }
    },
    "Object": {
      "type": "object",
      "required": ["id", "name", "owner_id", "account_id"],
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the object"
        },
        "name": {
          "type": "string",
          "description": "Display name of the object"
        },
        "description": {
          "type": "string",
          "default": "",
          "description": "Optional description of the object"
        },
        "field_ids": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "Array of Field IDs that belong to this object"
        },
        "namespace": {
          "type": "string",
          "default": "",
          "description": "Optional namespace for organizing objects"
        },
        "table_name": {
          "type": "string",
          "default": "",
          "description": "Database table name for this object"
        },
        "is_active": {
          "type": "boolean",
          "default": true,
          "description": "Whether this object is active"
        },
        "owner_id": {
          "type": "string",
          "description": "User ID from Clerk JWT"
        },
        "account_id": {
          "type": "string",
          "description": "Account ID from Clerk JWT"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp of creation"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp of last update"
        }
      }
    }
  },
  "enums": {
    "ValidatorType": ["length", "range", "pattern", "custom"],
    "PythonBuiltinTypes": ["str", "int", "float", "bool", "list", "dict", "set", "tuple", "bytes", "None"]
  }
}
